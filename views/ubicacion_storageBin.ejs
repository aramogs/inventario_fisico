<%include ./static/header.ejs %>
<%include ./static/sidebar.ejs%>
<%include ./static/navbar.ejs%>

<!-- Begin Page Content -->
<div class="container-fluid">

    <!-- Page Heading -->
    <div class="container-fluid">
        <div class="row">
            <div class="col-lg-12">
                <h2 class="text-center">Seleccionar StorageBin</h6>
            </div>
        </div>
        <div class="form-group">
            <input type="text" class="form-control" name="" id="searchBin" aria-describedby="helpId" placeholder="">
            <small id="helpId" class="form-text text-muted">Segregar StorageBins</small>
        </div>
        <hr>

    </div>
    <br>
    <!-- form start -->

    <form action="/conteo" method="POST">
        <input type="text" class="form-control" name="gafete" id="gafete" aria-describedby="helpId" placeholder=""
            value="<%= gafete%>" hidden>
        <input type="text" class="form-control" name="nombreContador" id="nombreContador" aria-describedby="helpId"
            placeholder="" value="<%= nombreContador%>" hidden>
        <input type="text" class="form-control" name="rack" id="rack" aria-describedby="helpId" placeholder=""
            value="<%= rack%>" hidden>

        <!-- ////////////////////////////// -->
        <div class="jumbotron jumbotron-fluid animated pulse">


            <div class="container-fluid">
                <div class="row">
                    <!-- Card -->
                    <% for (let i = 0; i < bins.length; i++) { %>

                    <div class="col- mb-2 mr-1 ml-1 grow">
                        <div style="animation-delay: .15s" class="card text-center animated bounceIn">
                            <button type="submit" class="btn btn-outline-info" name="ubicacion" formaction="/conteo "
                                value="<%= bins[i].bins %> "><%= bins[i].bins %> </button>
                        </div>
                    </div>
                    <% } %>
                    <!-- /Card -->
                </div>
            </div>

        </div>
    </form>
    <!-- //////////////////////////// -->


    <!-- /.container-fluid -->
</div>
<!-- End of Main Content -->

<% include ./static/footer.ejs%>

<script>
    $(document).ready(function () {
        soundOk()
        $('#ubicacion').focus()
    });

    let botones = document.getElementsByClassName('btn')
    let matches

    searchBin.focus()
    searchBin.addEventListener("keyup", function (e) {
        this.value = this.value.toUpperCase();
        for (let i = 1; i < botones.length; i++) {

            matches = (botones[i].value).indexOf(this.value) >= 0 ? true : false;
            if (matches) {
                botones[i].parentElement.parentElement.removeAttribute("hidden")
            } else {
                botones[i].parentElement.parentElement.setAttribute("hidden", true)

            }
        }


    });
</script>